<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:insert="fragments/header :: headerfragment"></head>
<link rel="stylesheet" type="text/css" media="screen" th:href="@{/css/jquery.dataTables.min.css}" />
<link rel="stylesheet" type="text/css" media="screen" th:href="@{/css/select.dataTables.min.css}" />


<body>
	<!-- <div th:insert="fragments/it_menu :: menu"></div> -->
	
	<nav>
    <div class="navbar">
      <i class='bx bx-menu'></i>
      <div class="logo"><a th:href="@{/homepage}">UserLoginModule</a></div>
      
      <div class="nav-links">
        <div class="sidebar-logo">
          <span class="logo-name">UserLoginModule</span>
          <i class='bx bx-x' ></i>
        </div>
         
        <ul class="links">
          <li><a th:href="@{/homepage}">HOME</a></li>
          <li>
            <a href="#">Menu1</a>
            <i class='bx bxs-chevron-down htmlcss-arrow arrow  '></i>
            <ul class="htmlCss-sub-menu sub-menu">
              <li><a href="#" th:target="_blank">Submenu1</a></li>
              <li><a href="#" th:target="_blank">Submenu2</a></li>
              <li class="more">
                <span><a href="#">More</a>
                <i class='bx bxs-chevron-right arrow more-arrow'></i>
              </span>
                <ul class="more-sub-menu sub-menu">
                  <li><a th:href="@{/uploadexceldata}" th:target="_blank">Submenu3</a></li>
                  <li><a href="#">Submenu4</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="#">Menu2</a>
            <i class='bx bxs-chevron-down js-arrow arrow '></i>
            <ul class="js-sub-menu sub-menu">
              <li><a href="#">Submenu1</a></li>
              <li><a href="#">Submenu2</a></li>
              <li><a href="#">Submenu3</a></li>
             
            </ul>
            
          </li>
          <li><a href="#">ABOUT US</a></li>
          <li><a href="#">CONTACT US</a></li>
          <li style="color: white"> Welcome &nbsp; <span sec:authentication="principal.username"> </span></li>
          <li sec:authorize="isAuthenticated()"> <a th:href="@{/logout}"> Logout</a></li>
          
        </ul>
      </div> 
      </div>
  </nav>
  <script src="script.js"></script>
	<br><br><br><br>
	
	<th:block th:if="${session.message}">
					<h4 class="alert alert-danger alert-dismissible" data-dismiss="alert">[[${session.message}]] </h4>
					<th:block th:text="${#session.removeAttribute('message')}"> </th:block>
				
				</th:block>
	
	<div class="blueheader" style="padding-left: 0px;">
		<div class="search-card">
			<div class="search-card-header">
				<h3 class="centerHeadingWhite headings centerHeadingWhitePadding">Edit User Profile</h3>
			</div>
		</div>
	</div>
	<br>
	<div class="mr-3 ml-3">
		<form action="#" th:action="@{/edituser}" id="validateEditForm" method="POST" th:object="${user}">
			<input type="hidden" th:field="*{id}">
			<div class="search-inputs-box1 padd20">
				<div class="row">
					<div class="col-md-7 col-sm-7 ">
						<div class="row">
							<div class="col-md-6 col-sm-6 ">
								<div class="input ">
									<label><strong>First Name</strong></label>
									<input type="text" name="firstName" id="firstName"  th:field="*{firstName}"
									th:classappend="${#fields.hasErrors('firstName') ? 'is-invalid' : ''}"
									 placeholder="first name of User" value="" class="form-control text-input">
									<div th:if= "${#fields.hasErrors('firstName')}" th:errors="*{firstName}" class="invalid-feedback"></div>
								</div>
							</div>
							
							<div class="col-md-6 col-sm-6 ">
								<div class="input ">
									<label><strong>Last Name</strong></label>
									<input type="text" name="lastName" id="lastName"  th:field="*{lastName}"
									th:classappend="${#fields.hasErrors('lastName') ? 'is-invalid' : ''}"
									 placeholder="last name of User" value="" class="form-control text-input">
									<div th:if= "${#fields.hasErrors('lastName')}" th:errors="*{lastName}" class="invalid-feedback"></div>
								</div>
							</div>
							
							<div class="col-md-6 col-sm-6 ">
								<div class="input ">
									<label><strong>Phone Number</strong></label>
									<input type="text" name="phoneNumber" id="phoneNumber"  th:field="*{phoneNumber}"
									th:classappend="${#fields.hasErrors('phoneNumber') ? 'is-invalid' : ''}"
									 placeholder="phone number of User" value="" class="form-control text-input">
									<div th:if= "${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}" class="invalid-feedback"></div>
								</div>
							</div>
							
							<div class="col-md-6 col-sm-6 ">
								<div class="input ">
									<label><strong>Email Address</strong></label>
									<input type="text" name="email" id="email"  th:field="*{email}"
									th:classappend="${#fields.hasErrors('email') ? 'is-invalid' : ''}"
									 placeholder="email address of User" value="" class="form-control text-input">
									<div th:if= "${#fields.hasErrors('email')}" th:errors="*{email}" class="invalid-feedback"></div>
								</div>
							</div>
							
						</div>
					</div>

					<div class="col-md-7 col-sm-7 pt-10">
						<div class="options-wrapper-card-edit">
							<button type="submit" class="btn btn-primary btn-lg mr-32" id="btnSearchCard">Update</button>
							<a th:href="@{/homepage}" type="submit" class="btn btn-danger btn-lg"
								id="btnSearchCard">Cancel</a>
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
	<br>


	<div th:insert="fragments/footer :: footer"></div>
	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
	<script src='https://cdnjs.cloudflare.com/ajax/libs/bootstrap-validator/0.4.5/js/bootstrapvalidator.min.js'></script>

	<script>

		$(document).ready(function () {

		});

		$('#validateEditForm').bootstrapValidator({
			feedbackIcons: {
				valid: 'glyphicon glyphicon-ok',
				invalid: 'glyphicon glyphicon-remove',
				validating: 'glyphicon glyphicon-refresh'
			},
			fields: {
				firstName: {
					validators: {
						stringLength: {
							min: 3,
							max: 20,
							message: 'Please enter first name with minimum 3 and maximum 20 characters'
						},
						notEmpty: {
							message: 'first name should not be empty'
						}
					}
				},
				lastName: {
					validators: {
						stringLength: {
							min: 3,
							max: 20,
							message: 'Please enter last name with minimum 3 and maximum 20 characters'
						},
						notEmpty: {
							message: 'last name should not be empty'
						}
					}
				},
				phoneNumber: {
					validators: {
						numeric: {
							message: 'The phone number must be a number without space in between'
						},
						stringLength: {
							min: 0,
							max: 10,
							message: 'Please enter phone number with 10 digits'
						},
					}
				},
				
				email: {
					validators: {
						notEmpty: {
							message: 'Please enter email address'
						},
						email: {
							message: 'email should not be empty'
						}
					}
				},
				
			}
		});
		$(function () {
			$("#datepicker").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker1").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker2").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker3").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: false
			});
			$("#datepicker4").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker5").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker6").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker7").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker8").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
			$("#datepicker9").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: true,
				changeYear: true
			});
		});

	</script>
</body>

</html>