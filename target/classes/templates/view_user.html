<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

<head th:insert="fragments/header :: headerfragment"></head>
<link rel="stylesheet" type="text/css" media="screen" th:href="@{/css/jquery.dataTables.min.css}" />
<link rel="stylesheet" type="text/css" media="screen" th:href="@{/css/select.dataTables.min.css}" />

<!--Start of dropdown menu  -->
	
	<link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
	
	<link rel="stylesheet" href="style.css">
	
	
	<!-- End of dropdown menu -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
<body>
	<!-- <div th:insert="fragments/it_menu :: menu"></div> -->
	
	<nav>
    <div class="navbar">
      <i class='bx bx-menu'></i>
      <div class="logo"><a th:href="@{/homepage}">UserLoginModule</a></div>
      
      <div class="nav-links">
        <div class="sidebar-logo">
          <span class="logo-name">UserLoginModule</span>
          <i class='bx bx-x' ></i>
        </div>
         
        <ul class="links">
          <li><a th:href="@{/homepage}">HOME</a></li>
          <li>
            <a href="#">Menu1</a>
            <i class='bx bxs-chevron-down htmlcss-arrow arrow  '></i>
            <ul class="htmlCss-sub-menu sub-menu">
              <li><a href="#" th:target="_blank">Submenu1</a></li>
              <li><a href="#" th:target="_blank">Submenu2</a></li>
              <li class="more">
                <span><a href="#">More</a>
                <i class='bx bxs-chevron-right arrow more-arrow'></i>
              </span>
                <ul class="more-sub-menu sub-menu">
                  <li><a th:href="@{/uploadexceldata}" th:target="_blank">Submenu3</a></li>
                  <li><a href="#">Submenu4</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li>
            <a href="#">Menu2</a>
            <i class='bx bxs-chevron-down js-arrow arrow '></i>
            <ul class="js-sub-menu sub-menu">
              <li><a href="#">Submenu1</a></li>
              <li><a href="#">Submenu2</a></li>
              <li><a href="#">Submenu3</a></li>
             
            </ul>
            
          </li>
          <li><a href="#">ABOUT US</a></li>
          <li><a href="#">CONTACT US</a></li>
          <li style="color: white"> Welcome &nbsp; <span sec:authentication="principal.username"> </span></li>
          <li sec:authorize="isAuthenticated()"> <a th:href="@{/logout}"> Logout</a></li>
          
        </ul>
      </div> 
      </div>
  </nav>
  <script src="script.js"></script>
	<br><br><br><br>
	
	<div class="blueheader" style="padding-left: 0px;">
		<div class="search-card">
			<div class="">
				<h3 class="centerHeadingWhite headings centerHeadingWhitePadding" th:text="${user.firstName}">
					${user.firstName}
				</h3>
				<span>
					<h5 class="centerHeadingWhite headings centerHeadingWhitePadding"
						th:text="${'Created on '+ #dates.format(user.createdOn,'dd-MMM-yyyy')}"> </h5>
				</span>
			</div>
		</div>
	</div>
	<br>

	<div class="mr-3 ml-3">
		<div class="search-inputs-box1 padd20">

			<form th:object="${user}">
				<input type="hidden" th:field="*{id}">
				<div>
					<div class="row">
						<div class="col-md-7 col-sm-7 ">
							<div class="row">
								<div class="col-md-6 col-sm-6 padding_view_page">
									<div class="input ">
										<label><strong>First Name</strong></label>
										<h5 th:text="${user.firstName} ?: '-'"></h5>
									</div>
								</div>
								<div class="col-md-6 col-sm-6 padding_view_page">
									<div class="input ">
										<label><strong>Last Name</strong></label>
										<h5 th:text="${user.lastName} ?: '-'"></h5>
									</div>
								</div>

								<div class="col-md-6 col-sm-6 padding_view_page">
									<div class="input ">
										<label><strong>Email Address</strong></label> 
										<h5 th:text="*{email} ?: '-'"></h5>
									</div>
								</div>

								<div class="col-md-6 col-sm-6 padding_view_page">
									<div class="input ">
										<label><strong>Phone Number</strong></label> 
										<h5 th:text="*{phoneNumber} ?: '-'"></h5>
									</div>
								</div>
								
								<div class="col-md-6 col-sm-6 padding_view_page">
									<div class="input">
										<label><strong>Status</strong></label>
										<h5 th:text="*{status} ?: '-'"></h5>
									</div>
								</div>

								
								</div>
							</div>
						</div>
					</div>
					</form>
					<div class="row">
						<div class="col-md-6 col-sm-6 padding_view_page">
							<div class="input">
								<h5>
									<label>
										<a th:href="@{/edit-user/{id}(id=${user.id})}"
											class="btn btn-primary btn-lg mr-32" id="btnSearchCard">
											<i class="fas fa-edit"></i>
											Edit</a>
										<a th:href="@{/deleteuser/{id}(id=${user.id})}"
											onclick="deleteUser(this)" class="btn btn-danger btn-lg mr-32"
											id="btnSearchCard" th:firstName="${user.firstName}">
											<i class="fas fa-trash"></i>
											Delete</a>
									</label>
								</h5>

							</div>
						</div>
					</div>
					<hr>
				</div>
		</div>

	
	<br>

	<div th:insert="fragments/footer :: footer"></div>
	<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
	<script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>

	<script>

		function deleteUser(obj) {
			event.preventDefault();
			var href = $(obj).attr('href');
			var firstName = $(obj).attr('firstName');
			$.confirm({
				title: 'Deactivate User',
				content: 'Are you sure you want to delete "' + firstName + '"?',
				buttons: {
					reset: {
						text: 'DELETE',
						btnClass: 'btn-red',
						action: function () {
							window.location.href = href;
						}
					},
					cancel: function () {
					}
				}
			});
		}


		$(function () {
			$("#datepicker").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker1").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker2").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker3").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker4").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker5").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker6").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker7").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker8").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});
			$("#datepicker9").datepicker({
				dateFormat: "dd/mm/yy",
				changeMonth: false,
				changeYear: false
			});


		});

	</script>
</body>

</html>